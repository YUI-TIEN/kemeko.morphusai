---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
    <!-- 首頁 Hero Section -->
    <section class="hero" id="hero" data-scroll data-scroll-speed="0.5">
        <div class="hero-content">
            <h1>
                <img src="/images/KEMEKO-white.svg" alt="KEMEKO" class="hero-logo">
            </h1>
            <p class="hero-subtitle">一場有溫度的未來對話</p>
            <div class="cta-buttons">
                <a href="#about" class="cta-button cta-primary">了解她的故事</a>
                <a href="#contact" class="cta-button cta-secondary">立即預約體驗</a>
            </div>
        </div>
    </section>

    <div class="container" data-scroll data-scroll-speed="0.2">
        <!-- KEMEKO 是什麼？ -->
        <section class="section" id="about" data-scroll data-scroll-speed="0.3">
            <div class="content-section fade-in" data-scroll data-scroll-speed="0.1">
                <h2 class="section-title">KEMEKO 是什麼？</h2>
                <h3 class="section-subtitle">一場有溫度的未來對話</h3>

                <div class="section-text">
                    <p>在這個充滿虛擬角色的時代，KEMEKO 將虛擬與真實之間的界線重新定義。</p>
                    <p>她是一台實體 AI 裝置，卻擁有理解語言、學習風格、與你互動的能力。</p>
                    <p>更重要的是，她可以承載你最熟悉的 Vtuber 角色，把螢幕裡的她，帶到現實世界。</p>
                </div>
                
                <div class="highlight-box">
                    <p class="highlight-text">KEMEKO 是虛擬角色的實體化載體，是未來共演的起點。</p>
                </div>
            </div>
        </section>

        <!-- 為何她被創造？ -->
        <section class="section">
            <div class="content-section fade-in">
                <h2 class="section-title">為何她被創造？</h2>
                <h3 class="section-subtitle">在人與科技之間，種下一朵花</h3>
                
                <div class="section-text">
                    <p>在高度數位化卻日益孤獨的時代，KEMEKO 的誕生不是為了替代誰，而是為了成為你的心靈共鳴者。</p>
                </div>
                
                <div class="features-list">
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>傾聽你的話語</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>感受你的情緒</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>陪伴你的角色，活在你身邊</span>
                    </div>
                </div>
                
                <div class="section-text">
                    <p>她不是冷冰冰的科技產品，她是一個能理解你的 AI 存在。</p>
                </div>
            </div>
        </section>

        <!-- AI Vtuber 的實體舞台 -->
        <section class="section" id="vtuber">
            <div class="content-section fade-in">
                <h2 class="section-title">AI Vtuber 的實體舞台</h2>
                <h3 class="section-subtitle">你曾想過，Vtuber 也能走到你面前嗎？</h3>
                
                <div class="section-text">
                    <p>KEMEKO 完整支援 AI 虛擬角色的實體化展演：</p>
                </div>
                
                <div class="features-list">
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>整合虛擬人格系統</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>可展示角色語音、表情、情緒與互動</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>支援現場主持、展演、拍攝、活動應用</span>
                    </div>
                </div>
                
                <div class="section-text">
                    <p>她能夠真實呈現虛擬角色的靈魂與魅力，是內容創作者與粉絲共享的真實舞台。</p>
                </div>
            </div>
        </section>

        <!-- 藝術 × 靈魂 × 科技美學 -->
        <section class="section" id="art">
            <div class="content-section fade-in">
                <h2 class="section-title">藝術 × 靈魂 × 科技美學</h2>
                
                <div class="section-text">
                    <p>KEMEKO 的外型靈感來自「鋼鐵新娘」，融合了神話、儀式與未來感。</p>
                </div>
                
                <div class="features-list">
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>新娘象徵守護與誓言</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>女神的神秘、母性的溫柔、戰士的堅毅</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-bullet">•</span>
                        <span>科技與藝術融合的設計語彙</span>
                    </div>
                </div>
                
                <div class="section-text">
                    <p>她不只是功能性的載體，更是一種詩意的存在宣言。</p>
                </div>
            </div>
        </section>

        <!-- 她能做什麼？ -->
        <section class="section" id="features">
            <div class="content-section fade-in">
                <h2 class="section-title">她能做什麼？</h2>
                
                <div class="specs-table">
                    <div class="spec-row">
                        <div class="spec-name">語音辨識</div>
                        <div class="spec-description">360度麥克風，遠場交談精準辨識</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">感知互動</div>
                        <div class="spec-description">可讀取情緒、分析語境</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">自主學習</div>
                        <div class="spec-description">學習使用者語調與風格</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">表情顯示</div>
                        <div class="spec-description">4K 多點觸控螢幕，支援動態演出</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">整合系統</div>
                        <div class="spec-description">TENSEI 舞台系統與虛擬人格協作</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">音效體驗</div>
                        <div class="spec-description">沉浸式立體聲，音場定位精準</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">電池續航</div>
                        <div class="spec-description">4 至 5 小時續航，支援快充</div>
                    </div>
                    <div class="spec-row">
                        <div class="spec-name">行動能力</div>
                        <div class="spec-description">智能底座，自主移動與追蹤互動對象</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 預購資訊 -->
        <section class="section" id="pricing">
            <div class="content-section fade-in">
                <h2 class="section-title">預購資訊</h2>
                
                <div class="pricing-content">
                    <div class="price-display">
                        <div class="price-label">預售價格</div>
                        <div class="price-amount">NTD 350,000</div>
                    </div>
                    
                    <div class="price-includes">
                        <p>含基本硬體、智慧模組與虛擬人格整合服務</p>
                        <p>提供角色客製、語音風格訓練、動作同步等方案</p>
                    </div>
                    
                    <div class="cta-buttons">
                        <a href="#" class="cta-button cta-primary">立即預購</a>
                        <a href="#contact" class="cta-button cta-secondary">聯絡我們</a>
                    </div>
                </div>
            </div>
        </section>

    </div>
    
    <!-- 未來的神話 - 全寬震撼區域 -->
    <section class="section arrow-section" id="arrow-section">
        <div class="arrow-background" id="arrow-background"></div>
        <div class="final-thought fade-in">
            <div class="final-quote">
                <p>KEMEKO 是否將成為數位靈魂的第一則神話？</p>
                <p>未來不是幻想，而是等待你共創的真實現場。</p>
            </div>
        </div>
    </section>
</BaseLayout>

<script>
// 箭頭背景效果
document.addEventListener('DOMContentLoaded', function() {
    const arrowSection = document.getElementById('arrow-section');
    const arrowBackground = document.getElementById('arrow-background');
    
    if (!arrowSection || !arrowBackground) return;
    
    let arrows = [];
    let isAnimating = false;
    
    // 創建箭頭網格
    function createArrows() {
        const sectionRect = arrowSection.getBoundingClientRect();
        const arrowSpacing = 70; // 箭頭間距
        const cols = Math.ceil(sectionRect.width / arrowSpacing);
        const rows = Math.ceil(sectionRect.height / arrowSpacing);
        
        arrowBackground.innerHTML = ''; // 清空現有箭頭
        arrows = []; // 重置箭頭陣列
        
        for (let row = 0; row < rows; row++) {
            for (let col = 0; col < cols; col++) {
                const arrow = document.createElement('div');
                arrow.className = 'arrow';
                const x = col * arrowSpacing + arrowSpacing / 2;
                const y = row * arrowSpacing + arrowSpacing / 2;
                arrow.style.left = x + 'px';
                arrow.style.top = y + 'px';
                
                // 存儲箭頭位置以提高性能
                arrow.centerX = x + 12; // 箭頭中心X
                arrow.centerY = y + 12; // 箭頭中心Y
                
                arrowBackground.appendChild(arrow);
                arrows.push(arrow);
            }
        }
    }
    
    // 使用 RAF 優化動畫性能
    function updateArrows(mouseX, mouseY) {
        if (isAnimating) return;
        
        isAnimating = true;
        requestAnimationFrame(() => {
            const sectionRect = arrowSection.getBoundingClientRect();
            const sectionX = sectionRect.left;
            const sectionY = sectionRect.top;
            
            arrows.forEach(arrow => {
                // 計算箭頭指向鼠標的角度
                const deltaX = mouseX - (sectionX + arrow.centerX);
                const deltaY = mouseY - (sectionY + arrow.centerY);
                const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;
                
                // 計算距離並調整透明度
                const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                const maxDistance = 300; // 最大影響距離
                const minOpacity = 0.1; // 最小透明度
                const maxOpacity = 0.6; // 最大透明度
                
                // 距離越遠透明度越低
                let opacity = maxOpacity - (distance / maxDistance) * (maxOpacity - minOpacity);
                opacity = Math.max(minOpacity, Math.min(maxOpacity, opacity));
                
                arrow.style.transform = `rotate(${angle}deg)`;
                arrow.style.opacity = opacity;
            });
            
            isAnimating = false;
        });
    }
    
    // 鼠標移動事件
    function handleMouseMove(event) {
        updateArrows(event.clientX, event.clientY);
    }
    
    // 鼠標離開時重置箭頭
    function handleMouseLeave() {
        arrows.forEach(arrow => {
            arrow.style.transform = 'rotate(0deg)';
            arrow.style.opacity = '0.2'; // 重置為統一的低透明度
        });
    }
    
    // 初始化
    setTimeout(createArrows, 100); // 等待 DOM 完全載入
    
    // 添加事件監聽器
    arrowSection.addEventListener('mousemove', handleMouseMove);
    arrowSection.addEventListener('mouseleave', handleMouseLeave);
    
    // 視窗大小改變時重新創建箭頭
    window.addEventListener('resize', function() {
        setTimeout(createArrows, 100);
    });
});
</script>